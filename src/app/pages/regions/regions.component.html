<app-header [activePage]="activePage"></app-header>

<div *ngIf="!showDepartements && !showCities">
    <app-france-map (sendRegionCode)="getClickedRegionCode($event)"></app-france-map>
</div>
<div *ngIf="showDepartements && !showCities">
    <div *ngIf="loading">
        <div class="d-flex justify-content-center mt-5 pt-5">
            <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>
    <div *ngIf="!loading && !error">
        <div class="mt-5 pt-5">
            <h1 class="mt-5">Départements de la région {{regionName}}</h1>
            <button class="btn btn-danger" (click)="goBackRegions()">Carte</button>
            <app-departement-list [data]="Departements" (sendDepartementCode)="getClickedDepartementCode($event)"></app-departement-list>
        </div>
    </div>
</div>
<div *ngIf="showCities">
    <div *ngIf="loading">
        <div class="d-flex justify-content-center mt-5 pt-5">
            <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>
    <div *ngIf="!loading && !error">
        <div class="mt-5 pt-5">
            <button class="btn btn-warning me-3" (click)="goBackDepartements()">Departements</button>
            <button class="btn btn-danger" (click)="goBackRegions()">Carte</button>
            <app-city-list [data]="Cities"></app-city-list>
        </div>
    </div>
</div>
